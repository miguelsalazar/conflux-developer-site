<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.56">
<title data-react-helmet="true">conflux_checksum_address | Conflux</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="conflux_checksum_address | Conflux"><meta data-react-helmet="true" name="description" content="Conflux Base32Check Addresses"><meta data-react-helmet="true" property="og:description" content="Conflux Base32Check Addresses"><meta data-react-helmet="true" property="og:url" content="https://developer.conflux-chain.org/docs/js-conflux-sdk/docs/conflux_checksum_address"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://developer.conflux-chain.org/docs/js-conflux-sdk/docs/conflux_checksum_address"><link rel="stylesheet" href="/styles.72ea3a70.css">
<link rel="preload" href="/styles.982b8d82.js" as="script">
<link rel="preload" href="/runtime~main.22b8a359.js" as="script">
<link rel="preload" href="/main.865eb635.js" as="script">
<link rel="preload" href="/1.2541ad73.js" as="script">
<link rel="preload" href="/2.5f2a69cd.js" as="script">
<link rel="preload" href="/72.383b6453.js" as="script">
<link rel="preload" href="/81.560b55f5.js" as="script">
<link rel="preload" href="/20ac7829.cd704df0.js" as="script">
<link rel="preload" href="/4484e621.318b0279.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Conflux Logo"><strong class="navbar__title">Conflux Developer</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Conflux-Chain/conflux-developer-site" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_KVdu"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_13On moon_3n_g"></span></div><div class="react-toggle-track-x"><span class="toggle_13On sun_UemI"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Conflux Logo"><strong class="navbar__title">Conflux Developer</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/Conflux-Chain/conflux-developer-site" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_3T5V"><main class="docMainContainer_2yiU"><div class="container padding-vert--lg docItemWrapper_182k"><div class="row"><div class="col docItemCol_2uRP"><div class="docItemContainer_1gVo"><article><header><h1 class="docTitle_3r6L">conflux_checksum_address</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_25AA" id="conflux-base32check-addresses"></a>Conflux Base32Check Addresses<a aria-hidden="true" tabindex="-1" class="hash-link" href="#conflux-base32check-addresses" title="Direct link to heading">#</a></h1><p>As a new public chain, Conflux realizes high performance as well as compatibility with Ethereum. Conflux adopts address format compatible with Ethereum addresses, and thus is compatible with Ethereum Virtual Machine (EVM).
The advantage of the compatibility between Conflux and Ethereum is obvious:  it reduces the cost and difficulty of cross-chain migration. But there are also some problems. Since the addresses on Conflux and Ethereum are similar, users may loss their assets when performing cross-chain transactions using ShuttleFlow if they transfer to a mistake address, which is a serious problem. To improve user experience and reduce address mistakes when users use cross-chain functions, Conflux introduces a new address format: base32Check in <a href="https://github.com/Conflux-Chain/CIPs/blob/master/CIPs/cip-37.md">CIP37</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_25AA" id="before-cip37"></a>Before CIP37<a aria-hidden="true" tabindex="-1" class="hash-link" href="#before-cip37" title="Direct link to heading">#</a></h3><p>At first, Conflux adopts the address format similar with Ethereum, which is a hex40 address (hex code with a length of 40 bits). The difference is that Conflux differentiate the addresses with different starts: 0x1 for ordinary individual addresses, 0x8 for smart contracts and 0x0 for in-built contracts.</p><p>Only hex40 addresses with these three starts are available on Conflux. Some Ethereum addresses (with a 0x1 start) can be used as Conflux addresses, while a Conflux address has a 1/16 chance of being used as an Ethereum address.</p><p>Currently, there are three kinds of addresses:</p><ul><li>Ordinary addresses: <code>0x1</code>386b4185a223ef49592233b69291bbe5a80c527</li><li>Smart contract addresses: <code>0x8</code>269f0add11b4915d78791470d091d25cff73ee5</li><li>In-built contract addresses: <code>0x0</code>888000000000000000000000000000000000002</li></ul><p>Because the addresses are not completely compatible on Conflux and Ethereum, users will loss assets when they use a wrong address. Ethereum has introduced a regulation with a checksum in <a href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-55.md">EIP55</a> to change the characters meeting the requirement into the upper case in order to prevent transferring to wrong addresses. Conflux also introduces regulations to change checksums.</p><ul><li>Non-chechsum address: 0x1386<code>b</code>4185<code>a</code>223<code>ef</code>49592233b69291bbe5a80<code>c</code>527</li><li>Chechsum address: 0x1386<code>B</code>4185<code>A</code>223<code>EF</code>49592233b69291bbe5a80<code>C</code>527</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_25AA" id="cip37-addresses"></a>CIP37 Addresses<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cip37-addresses" title="Direct link to heading">#</a></h3><p>In order to solve the problems of mistakenly using wrong addresses, we introduces a brand new base32 checksum address format in <a href="https://github.com/Conflux-Chain/CIPs/blob/master/CIPs/cip-37.md">CIP37</a>. Besides checksum, the new addresses also include information such as network, type.</p><p>Old address vs new address:</p><ul><li>hex40 address: <code>0x1</code>386b4185a223ef49592233b69291bbe5a80c527</li><li>base32 address: cfx:aak2rra2njvd77ezwjvx04kkds9fzagfe6ku8scz91</li></ul><p>The new addresses use customized base32 code address. Currently applied characters are: <code>abcdefghjkmnprstuvwxyz0123456789</code> (i, l, o, q removed).</p><p>In new format addresses, network types are included. Up to now there are three types: cfx，cfxtest，net[n]</p><ul><li>cfx:aak2rra2njvd77ezwjvx04kkds9fzagfe6ku8scz91</li><li>cfxtest:aak2rra2njvd77ezwjvx04kkds9fzagfe6d5r8e957</li><li>net1921:aak2rra2njvd77ezwjvx04kkds9fzagfe65k87kwdf</li></ul><p>Meanwhile, new addresses also include address type information, currently four types (types are usually in upper case):</p><ul><li>user: CFX:TYPE.USER:AAK2RRA2NJVD77EZWJVX04KKDS9FZAGFE6KU8SCZ91</li><li>contract: CFX:TYPE.CONTRACT:ACB2RRA2NJVD77EZWJVX04KKDS9FZAGFE640XW9UAE</li><li>builtin: CFX:TYPE.BUILTIN:AAEJUAAAAAAAAAAAAAAAAAAAAAAAAAAAAJRWUC9JNB</li><li>null: CFX:TYPE.NULL:AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0SFBNJM2</li></ul><p>The two address formats (hex40 and base32) are convertible to each other. They are the same if converted to byte arrays. However, when converting hex40 addresses (starting with 0x) into base32check addresses, the network ID information is also required.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_25AA" id="conflux-fullnode-rpc"></a>Conflux Fullnode RPC<a aria-hidden="true" tabindex="-1" class="hash-link" href="#conflux-fullnode-rpc" title="Direct link to heading">#</a></h3><p>From v1.1.1, Conflux-rust will apply the new address format. If returns include address information, it will be in the new format.</p><p>If you use hex40 addresses to call RPC, it will return with an error:</p><div class="mdxCodeBlock_1P0T"><div class="codeBlockContent_2jYE"><button type="button" aria-label="Copy code to clipboard" class="copyButton_140E">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3QFk"><div class="codeBlockLines_f66M" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;code&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">32602</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;message&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Invalid params: Invalid base32 address: zero or multiple prefixes.&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>If you use a wrong network type (eg. use a testnet address for the mainnet PRC), it will return with an error:</p><div class="mdxCodeBlock_1P0T"><div class="codeBlockContent_2jYE"><button type="button" aria-label="Copy code to clipboard" class="copyButton_140E">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3QFk"><div class="codeBlockLines_f66M" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;code&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">32602</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;message&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Invalid parameters: address&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;data&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;\&quot;network prefix unexpected: ours cfx, got cfxtest\&quot;&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>When invoke conflux RPC related method, you can catch the error, the <code>message</code> and <code>data</code> will be helpful.</p><div class="mdxCodeBlock_1P0T"><div class="codeBlockContent_2jYE"><button type="button" aria-label="Copy code to clipboard" class="copyButton_140E">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3QFk"><div class="codeBlockLines_f66M" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> balance </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> cfx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getBalance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0xxxxxxxx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">catch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">message</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// hex encoded data, can convert to string: Buffer.from(e.data, &#x27;hex&#x27;).toString()</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>If you use base32 address to call 1.1.0 or below RPC server, it will return with an error:</p><div class="mdxCodeBlock_1P0T"><div class="codeBlockContent_2jYE"><button type="button" aria-label="Copy code to clipboard" class="copyButton_140E">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3QFk"><div class="codeBlockLines_f66M" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">&quot;error&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;code&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">32602</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;message&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Invalid params: 0x prefix is missing.&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_25AA" id="contract"></a>Contract<a aria-hidden="true" tabindex="-1" class="hash-link" href="#contract" title="Direct link to heading">#</a></h3><p>The new CIP-37 address will not affect interactions with smart contracts. Data constructed when calling smart contracts are still using hex40 addresses ultimately. The js-jdk will change the address format automatically. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_25AA" id="js-conflux-sdk"></a>js-conflux-sdk<a aria-hidden="true" tabindex="-1" class="hash-link" href="#js-conflux-sdk" title="Direct link to heading">#</a></h3><p>From v1.5, js-sdk will start to support the new address format. networkId is needed when generating new addresses, so many functions increase an optional configuration <code>networkId</code>, 1029 as default. </p><p>&#x27;NOTE&#x27; NetworkId needs to be set correctly before using Conflux Objects. Currently, there are two ways to set this:</p><p>When initializing a Conflux object, specify through the networkId option,</p><div class="mdxCodeBlock_1P0T"><div class="codeBlockContent_2jYE"><button type="button" aria-label="Copy code to clipboard" class="copyButton_140E">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3QFk"><div class="codeBlockLines_f66M" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> conflux </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Conflux</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;http://test.confluxrpc.org&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    networkId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>The other is to obtain from RPC by calling conflux.updateNetworkId after initialization.</p><div class="mdxCodeBlock_1P0T"><div class="codeBlockContent_2jYE"><button type="button" aria-label="Copy code to clipboard" class="copyButton_140E">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3QFk"><div class="codeBlockLines_f66M" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> conflux </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Conflux</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;http://test.confluxrpc.org&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> conflux</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">updateNetworkId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// this line should be in a async function</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_25AA" id="util"></a>util<a aria-hidden="true" tabindex="-1" class="hash-link" href="#util" title="Direct link to heading">#</a></h4><p><code>format.address</code> Return with new addresses, and add an optional configuration <code>networkId</code>, 1029 as default. Only when the input address is hex40, a second configuration is needed.</p><div class="mdxCodeBlock_1P0T"><div class="codeBlockContent_2jYE"><button type="button" aria-label="Copy code to clipboard" class="copyButton_140E">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3QFk"><div class="codeBlockLines_f66M" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">format</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;cfx:aak2rra2njvd77ezwjvx04kkds9fzagfe6ku8scz91&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// cfx:aak2rra2njvd77ezwjvx04kkds9fzagfe6ku8scz91</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">format</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x1386b4185a223ef49592233b69291bbe5a80c527&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// cfx:aak2rra2njvd77ezwjvx04kkds9fzagfe6ku8scz91</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">format</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x1386b4185a223ef49592233b69291bbe5a80c527&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// cfxtest:aak2rra2njvd77ezwjvx04kkds9fzagfe6d5r8e957</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">format</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x1386b4185a223ef49592233b69291bbe5a80c527&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// CFXTEST:TYPE.USER:AAK2RRA2NJVD77EZWJVX04KKDS9FZAGFE6D5R8E957</span></div></div></div></div></div><p>New function <code>format.hexAddress</code> returns with hex40 address.</p><div class="mdxCodeBlock_1P0T"><div class="codeBlockContent_2jYE"><button type="button" aria-label="Copy code to clipboard" class="copyButton_140E">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3QFk"><div class="codeBlockLines_f66M" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">format</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">hexAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;cfx:aak2rra2njvd77ezwjvx04kkds9fzagfe6ku8scz91&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 0x1386b4185a223ef49592233b69291bbe5a80c527</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">format</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">hexAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x1386b4185a223ef49592233b69291bbe5a80c527&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 0x1386b4185a223ef49592233b69291bbe5a80c527</span></div></div></div></div></div><p>The address format can be converted through these two functions.<br>
<code>format.checksumAddress</code> and <code>sign.checksumAddress</code> are tagged as deprecated, which means it may be removed or renamed in the future.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_25AA" id="methods-added-new-parameter-networkid"></a>Methods added new parameter <code>networkId</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#methods-added-new-parameter-networkid" title="Direct link to heading">#</a></h4><p>PrivateKeyAccount </p><ul><li>Construction method</li><li>Static method decrypt</li><li>Static method random</li></ul><p>Wallet </p><ul><li>Construction method</li></ul><p>Message</p><ul><li>sign</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_25AA" id="conflux"></a>Conflux<a aria-hidden="true" tabindex="-1" class="hash-link" href="#conflux" title="Direct link to heading">#</a></h4><p>Usage of Conflux is the same as before. The old and new formats are both supported, but addresses in return data will be in the new format.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_25AA" id="smart-contract-interaction"></a>Smart Contract Interaction<a aria-hidden="true" tabindex="-1" class="hash-link" href="#smart-contract-interaction" title="Direct link to heading">#</a></h4><p>Basically, this improvement does not affect smart contract, so when interacting with smart contracts, hex40 addresses are still in use.
But the SDK realizes compatibility processing. When you call smart contract methods, the new format will be supported when addresses are involved, and the returns and log decode involving addresses will also be in the new format.</p><p>Please note: if the method returns with non-Conflux addresses, the addresses will still be in hex40 format.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Conflux-Chain/conflux-developer-site/edit/master/docs/js-conflux-sdk/docs/conflux_checksum_address.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-03-05T07:33:28.000Z" class="docLastUpdatedAt_2pXX">3/5/2021</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_1Fsi"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#before-cip37" class="table-of-contents__link">Before CIP37</a></li><li><a href="#cip37-addresses" class="table-of-contents__link">CIP37 Addresses</a></li><li><a href="#conflux-fullnode-rpc" class="table-of-contents__link">Conflux Fullnode RPC</a></li><li><a href="#contract" class="table-of-contents__link">Contract</a></li><li><a href="#js-conflux-sdk" class="table-of-contents__link">js-conflux-sdk</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction/en/conflux_overview">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/conflux-portal/docs/en/portal/introduction">Portal</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://bounty.conflux-chain.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bounty</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Conflux-Chain" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/Conflux_Network" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="text--center"><div>© 2021 Conflux Chain, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.982b8d82.js"></script>
<script src="/runtime~main.22b8a359.js"></script>
<script src="/main.865eb635.js"></script>
<script src="/1.2541ad73.js"></script>
<script src="/2.5f2a69cd.js"></script>
<script src="/72.383b6453.js"></script>
<script src="/81.560b55f5.js"></script>
<script src="/20ac7829.cd704df0.js"></script>
<script src="/4484e621.318b0279.js"></script>
</body>
</html>