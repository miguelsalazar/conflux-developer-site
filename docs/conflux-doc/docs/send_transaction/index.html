<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.56">
<link rel="search" type="application/opensearchdescription+xml" title="Conflux" href="/opensearch.xml"><title data-react-helmet="true">My First Transaction | Conflux</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="My First Transaction | Conflux"><meta data-react-helmet="true" name="description" content="This document will guide you through composing and sending your first transaction into the Conflux network. We will introduce the technical details of Conflux transaction and some basic techniques to track the status of sent transactions and handle errors."><meta data-react-helmet="true" property="og:description" content="This document will guide you through composing and sending your first transaction into the Conflux network. We will introduce the technical details of Conflux transaction and some basic techniques to track the status of sent transactions and handle errors."><meta data-react-helmet="true" name="keywords" content="conflux,transaction,sdk"><meta data-react-helmet="true" property="og:url" content="https://developer.conflux-chain.org/docs/conflux-doc/docs/send_transaction"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://developer.conflux-chain.org/docs/conflux-doc/docs/send_transaction"><link rel="stylesheet" href="/styles.df944b48.css">
<link rel="preload" href="/styles.fe20d831.js" as="script">
<link rel="preload" href="/runtime~main.473d0e41.js" as="script">
<link rel="preload" href="/main.9f9a5e49.js" as="script">
<link rel="preload" href="/1.1ec7fe73.js" as="script">
<link rel="preload" href="/2.a6c9b2c0.js" as="script">
<link rel="preload" href="/77.8558e820.js" as="script">
<link rel="preload" href="/86.16d12372.js" as="script">
<link rel="preload" href="/20ac7829.e6b41037.js" as="script">
<link rel="preload" href="/86b08b8d.1f5530f7.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Conflux Logo"><strong class="navbar__title">Conflux Developer</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Conflux-Chain/conflux-developer-site" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_tL-o"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_1Uz6 moon_1dCK"></span></div><div class="react-toggle-track-x"><span class="toggle_1Uz6 sun_2xxQ"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><div class="searchWrapper_X5eT"><span aria-label="expand searchbar" role="button" class="searchIconButton_lWv2" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_2OZm"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Conflux Logo"><strong class="navbar__title">Conflux Developer</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/Conflux-Chain/conflux-developer-site" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_3g4J"><div class="docSidebarContainer_1kHB"><div class="sidebar_1X4e"><div class="menu menu--responsive menu_3NRO"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_3lA8" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="#!">Learn About Conflux</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/en/conflux_overview">Conflux Overview</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">Try Conflux</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/conflux-doc/docs/installation">Compile from source code</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/conflux-doc/docs/get_started">Run a Node</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/conflux-doc/docs/send_transaction">My First Transaction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/conflux-doc/docs/independent_chain">Run an Independent Chain</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/conflux-rust/internal_contract/internal_contract">Internal Contract</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/conflux-doc/docs/light_node">Run a Light Node</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">SDK</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/conflux-doc/docs/json_rpc">JSON RPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/conflux-doc/docs/pubsub">Publish-Subscribe API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/conflux-doc/docs/cli_sub_commands">CLI Sub-commands</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/js-conflux-sdk/docs/javascript_sdk">Javascript SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/go-conflux-sdk/go_sdk">Golang SDK</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">ConfluxPortal</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/conflux-portal/docs/en/portal/introduction">What Is ConfluxPortal</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/conflux-portal/docs/en/portal/Main_Concepts/getting_started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/conflux-portal/docs/en/portal/Main_Concepts/accessing_accounts">Accessing Accounts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/conflux-portal/docs/en/portal/Main_Concepts/sending_transactions">Sending Transactions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/conflux-portal/docs/en/portal/API_Reference/provider_api">Portal Provider API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/conflux-portal/docs/en/portal/API_Reference/signing_data_with_portal">Signing Data with ConfluxPortal</a></li></ul></li></ul></div></div></div><main class="docMainContainer_34ah"><div class="container padding-vert--lg docItemWrapper_1FLB"><div class="row"><div class="col docItemCol_17ae"><div class="docItemContainer_1Jyi"><article><header><h1 class="docTitle_3uYU">My First Transaction</h1></header><div class="markdown"><p>This document will guide you through composing and sending your first transaction into the Conflux network. We will introduce the technical details of Conflux transaction and some basic techniques to track the status of sent transactions and handle errors.</p><p>For common users, it is recommended to use a Conflux wallet like <a href="https://github.com/Conflux-Chain/conflux-portal" target="_blank" rel="noopener noreferrer">Conflux Portal</a>, which is easy, safe and user-friendly.</p><p>For developers who want to compose and send transaction in your own applications, Conflux provides several SDKs in different languages:</p><ul><li><a href="https://github.com/Conflux-Chain/js-conflux-sdk" target="_blank" rel="noopener noreferrer">JavaScript: js-conflux-sdk</a></li><li><a href="https://github.com/Conflux-Chain/java-conflux-sdk" target="_blank" rel="noopener noreferrer">Java: java-conflux-sdk</a></li><li><a href="https://github.com/Conflux-Chain/go-conflux-sdk" target="_blank" rel="noopener noreferrer">Go: go-conflux-sdk</a></li></ul><p>The following document will use <a href="https://github.com/Conflux-Chain/js-conflux-sdk" target="_blank" rel="noopener noreferrer">js-conflux-sdk</a> as an example.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_8LFM" id="compose-and-send-my-first-transaction"></a>Compose and send my first transaction<a aria-hidden="true" tabindex="-1" class="hash-link" href="#compose-and-send-my-first-transaction" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_8LFM" id="create-an-account-with-conflux-portal"></a>Create an account with Conflux Portal<a aria-hidden="true" tabindex="-1" class="hash-link" href="#create-an-account-with-conflux-portal" title="Direct link to heading">#</a></h3><ol><li><p>Install <a href="https://github.com/Conflux-Chain/conflux-portal" target="_blank" rel="noopener noreferrer">Conflux Portal</a>.</p></li><li><p>Generate a new account.</p></li><li><p>Get test-net tokens from the faucet.</p></li><li><p>Export and copy your private key to somewhere, we&#x27;ll use it later.</p></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_8LFM" id="installation"></a>Installation<a aria-hidden="true" tabindex="-1" class="hash-link" href="#installation" title="Direct link to heading">#</a></h3><p><code>npm install js-conflux-sdk</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_8LFM" id="send-transaction-by-javascript-program"></a>Send transaction by JavaScript program<a aria-hidden="true" tabindex="-1" class="hash-link" href="#send-transaction-by-javascript-program" title="Direct link to heading">#</a></h3><ul><li>Import <code>js-conflux-sdk</code> and set a Conflux provider. For the Conflux test-net, there is a node provided at <code>https://test.confluxrpc.org</code>. It can also be changed to any other Conflux node, even your own.</li></ul><div class="mdxCodeBlock_3Q1y"><div class="codeBlockContent_1X_u"><button type="button" aria-label="Copy code to clipboard" class="copyButton_tg_z">Copy</button><div tabindex="0" class="prism-code language-javascript codeBlock_1KQ0"><div class="codeBlockLines_286W" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token maybe-class-name">Conflux</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token maybe-class-name">Drip</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;js-conflux-sdk&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> cfx </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Conflux</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;https://test.confluxrpc.org&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  defaultGasPrice</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// The default gas price of your following transactions</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  defaultGas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// The default gas of your following transactions</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  logger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><ul><li>Paste your private key into the program</li></ul><div class="mdxCodeBlock_3Q1y"><div class="codeBlockContent_1X_u"><button type="button" aria-label="Copy code to clipboard" class="copyButton_tg_z">Copy</button><div tabindex="0" class="prism-code language-javascript codeBlock_1KQ0"><div class="codeBlockLines_286W" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">PRIVATE_KEY</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Your Private Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// const PRIVATE_KEY = &#x27;0x5f15f9e52fc5ec6f77115a9f306c120a7e80d83115212d33a843bb6b7989c261&#x27;;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> account </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> cfx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">wallet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">addPrivateKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token constant" style="color:rgb(130, 170, 255)">PRIVATE_KEY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// create account instance</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> receiver </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;cfx:type.user:aarc9abycue0hhzgyrr53m6cxedgccrmmyybjgh4xg&#x27;</span></div></div></div></div></div><ul><li><p>Compose your transaction, here are the fields could be filled with:</p><ul><li><strong>nonce</strong>: optional, the nonce of a transaction to keep the order of your sending transactions, starting with some random large number and increase one by one. If missing, the result of <code>cfx_getNextNonce</code> will be automatically filled in and it works for general scenarios. Some cases, like sending a lot of transactions in a short period. It&#x27;s recommended to maintain the nonce on your own.</li><li><strong>gasPrice</strong>: optional, the price in Drip that you would like to pay for each gas consumed. If missing, the result of <code>cfx_gasPrice</code> will be automatically filled in, which is the median of recent transactions.</li><li><strong>gas</strong>: optional, the max gas you would like to use in the transaction. After the end of transaction processing, the unused gas will be refunded if <code>used_gas &gt;= gas * 0.75</code>. If missing, the result of <code>cfx_estimateGasAndCollateral</code> will be automatically filled in and it works for general scenarios.</li><li><strong>to</strong>: the <a href="https://github.com/Conflux-Chain/CIPs/blob/master/CIPs/cip-37.md">base32 address</a> of the receiver of the transaction, could be a personal account (e.g. <code>cfx:type.user:aarc9abycue0hhzgyrr53m6cxedgccrmmyybjgh4xg</code>) or a contract (e.g. <code>cfx:type.contract:acc7uawf5ubtnmezvhu9dhc6sghea0403y2dgpyfjp</code>). Leave a null here to deploy a contract.</li><li><strong>value</strong>: the value (in Drip) to be transferred.</li><li><strong>storageLimit</strong>: optional, the max storage (in Byte) you would like to collateralize in the transaction. If missing, the result of <code>cfx_estimateGasAndCollateral</code> will be automatically filled in and it works for general senarios.transactions.</li><li><strong>epochHeight</strong>: optional, a transaction is can be verified only in epochs in the range <code>[epochHeight - 100000, epochHeight + 100000]</code>, so it&#x27;s  a timeout mechanism. If missing, the result of <code>cfx_epochNumber</code> will be automatically filled in and it works for general scenarios.</li><li><strong>data</strong>: optional, it&#x27;s either an attached message of a transaction or a function signature of a contract call. If missing, a null will be filled into it.</li><li><strong>chainId</strong>: optional, it used for dealing with a hard fork or preventing a transaction replay attack. If missing, the SDK will get it from RPC. Currently mainnet chainId is 1029, testnet is 1.</li><li><strong>from</strong>: The sender account(with private key) to sign the transaction.</li></ul></li></ul><div class="mdxCodeBlock_3Q1y"><div class="codeBlockContent_1X_u"><button type="button" aria-label="Copy code to clipboard" class="copyButton_tg_z">Copy</button><div tabindex="0" class="prism-code language-javascript codeBlock_1KQ0"><div class="codeBlockLines_286W" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> txParams </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword module" style="font-style:italic">from</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> account</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// from account instance and will by sign by account.privateKey</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// nonce</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// gasPrice</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// gas</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  to</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> receiver</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// accept address string or account instance</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Drip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">fromCFX</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0.125</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// use the conversion utility function</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// storageLimit</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// epochHeight</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// data</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><ul><li>Send it away by <code>cfx.sendTransaction</code> and get the returned transaction hash, then you can view the transaction details by searching the hash on <a href="http://confluxscan.io/" target="_blank" rel="noopener noreferrer">Conflux Scan</a>.</li></ul><div class="mdxCodeBlock_3Q1y"><div class="codeBlockContent_1X_u"><button type="button" aria-label="Copy code to clipboard" class="copyButton_tg_z">Copy</button><div tabindex="0" class="prism-code language-javascript codeBlock_1KQ0"><div class="codeBlockLines_286W" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> txHash </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> cfx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">sendTransaction</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">txParams</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">txHash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">catch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">e</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_8LFM" id="track-my-transaction"></a>Track my transaction<a aria-hidden="true" tabindex="-1" class="hash-link" href="#track-my-transaction" title="Direct link to heading">#</a></h2><p>After sending, the transaction could be in several different states:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_8LFM" id="1-rejected-by-the-rpc-provider-immediately"></a>1. Rejected by the RPC provider immediately<a aria-hidden="true" tabindex="-1" class="hash-link" href="#1-rejected-by-the-rpc-provider-immediately" title="Direct link to heading">#</a></h3><p>After the provider got the <code>cfx_sendRawTransaction</code> RPC call, it will try to do the basic verification and insert it into the transaction pool. If there an obvious error of the transaction, e.g., RLP decoding error, signature verification error, it will be rejected immediately. Otherwise, it will be inserted into the transaction pool and start to wait to be mined, and the RPC will return a transaction hash.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_8LFM" id="2-stuck-in-the-transaction-pool"></a>2. Stuck in the transaction pool<a aria-hidden="true" tabindex="-1" class="hash-link" href="#2-stuck-in-the-transaction-pool" title="Direct link to heading">#</a></h3><p>However, the transaction hash you got does not mean it was successfully executed. Conflux will store as many verified transactions in the pool as possible, even transactions whose nonce does not match the expected one or the balance is not enough to pay the <code>value + gas * gasPrice + storage_limit * (10^18/1024)</code>.</p><p>So if you wait for 1 minute and still cannot find the transaction in ConfluxScan after sending it, it very likely got stuck in the transaction pool.</p><p>Use <code>cfx_getTransactionByHash</code>, <code>cfx_getBalance</code> and <code>cfx_getNextNonce</code> to check if your transaction is ready to be packed and mined, for example:</p><div class="mdxCodeBlock_3Q1y"><div class="codeBlockContent_1X_u"><button type="button" aria-label="Copy code to clipboard" class="copyButton_tg_z">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_1KQ0"><div class="codeBlockLines_286W" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">curl -X POST --data &#x27;{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;cfx_getBalance&quot;,&quot;params&quot;:[&quot;cfx:type.user:aarc9abycue0hhzgyrr53m6cxedgccrmmyybjgh4xg&quot;],&quot;id&quot;:1}&#x27; -H &quot;Content-Type: application/json&quot; https://test.confluxrpc.org</span></div></div></div></div></div><p>And compare the result with <code>value + gas * gasPrice + storage_limit * (10^18/1024)</code>.</p><div class="mdxCodeBlock_3Q1y"><div class="codeBlockContent_1X_u"><button type="button" aria-label="Copy code to clipboard" class="copyButton_tg_z">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_1KQ0"><div class="codeBlockLines_286W" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">curl -X POST --data &#x27;{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;cfx_getNextNonce&quot;,&quot;params&quot;:[&quot;cfx:type.user:aarc9abycue0hhzgyrr53m6cxedgccrmmyybjgh4xg&quot;],&quot;id&quot;:1}&#x27; -H &quot;Content-Type: application/json&quot; https://test.confluxrpc.org</span></div></div></div></div></div><p>And compare the result with the nonce you filled in.</p><p>You can always get the transaction details by <code>cfx_getTransactionByHash</code>:</p><div class="mdxCodeBlock_3Q1y"><div class="codeBlockContent_1X_u"><button type="button" aria-label="Copy code to clipboard" class="copyButton_tg_z">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_1KQ0"><div class="codeBlockLines_286W" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">curl -X POST --data &#x27;{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;cfx_getTransactionByHash&quot;,&quot;params&quot;:[&quot;0x53fe995edeec7d241791ff32635244e94ecfd722c9fe90f34ddf59082d814514&quot;],&quot;id&quot;:1}&#x27; -H &quot;Content-Type: application/json&quot; https://test.confluxrpc.org</span></div></div></div></div></div><p>In this situation, you may want to send a new transaction after fixing the nonce or balance problem. Note that, for replacing a transaction in the pool with the same nonce, a higher gasPrice is necessary.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_8LFM" id="3-mined-but-skipped"></a>3. Mined but skipped<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3-mined-but-skipped" title="Direct link to heading">#</a></h3><p>If you can view the transaction on ConfluxScan but its status always shows &quot;skip&quot;. Which means it didn&#x27;t pass the basic verification (etc, nonce doesn&#x27;t match, balance can&#x27;t cover the basic fee) in execution engine and got skipped.</p><p>In this situation, you may want to send a new transaction after fixing the nonce or balance problem. Note that, for replacing a transaction in the pool with the same nonce, a higher gasPrice is necessary.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_8LFM" id="4-mined-and-executed-with-some-error-outcome"></a>4. Mined and executed with some error outcome<a aria-hidden="true" tabindex="-1" class="hash-link" href="#4-mined-and-executed-with-some-error-outcome" title="Direct link to heading">#</a></h3><p>In this case, you&#x27;ll see an error message on ConfluxScan. This could be in several causes:</p><ul><li>EVM error: like assert, require</li><li>balance is enough to pay the basic fee, but not for the whole transaction fee</li><li>storageLimit reached</li></ul><p>It&#x27;s a good idea to double-check your contract in Conflux Studio and check the storageLimit and balance issue by <code>cfx_estimateGasAndCollateral</code> RPC.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_8LFM" id="5-mined-and-executed-with-no-error-outcome"></a>5. Mined and executed with no error outcome<a aria-hidden="true" tabindex="-1" class="hash-link" href="#5-mined-and-executed-with-no-error-outcome" title="Direct link to heading">#</a></h3><p>Congrats! Your first transaction finally got there.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Conflux-Chain/conflux-doc/edit/master/docs/send_transaction.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-04-22T06:42:12.000Z" class="docLastUpdatedAt_2L3z">4/22/2021</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/conflux-doc/docs/get_started"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Run a Node</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/conflux-doc/docs/independent_chain"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Run an Independent Chain »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3-23"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#compose-and-send-my-first-transaction" class="table-of-contents__link">Compose and send my first transaction</a><ul><li><a href="#create-an-account-with-conflux-portal" class="table-of-contents__link">Create an account with Conflux Portal</a></li><li><a href="#installation" class="table-of-contents__link">Installation</a></li><li><a href="#send-transaction-by-javascript-program" class="table-of-contents__link">Send transaction by JavaScript program</a></li></ul></li><li><a href="#track-my-transaction" class="table-of-contents__link">Track my transaction</a><ul><li><a href="#1-rejected-by-the-rpc-provider-immediately" class="table-of-contents__link">1. Rejected by the RPC provider immediately</a></li><li><a href="#2-stuck-in-the-transaction-pool" class="table-of-contents__link">2. Stuck in the transaction pool</a></li><li><a href="#3-mined-but-skipped" class="table-of-contents__link">3. Mined but skipped</a></li><li><a href="#4-mined-and-executed-with-some-error-outcome" class="table-of-contents__link">4. Mined and executed with some error outcome</a></li><li><a href="#5-mined-and-executed-with-no-error-outcome" class="table-of-contents__link">5. Mined and executed with no error outcome</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction/en/conflux_overview">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/conflux-portal/docs/en/portal/introduction">Portal</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://bounty.conflux-chain.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bounty</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Conflux-Chain" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/Conflux_Network" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="text--center"><div>© 2021 Conflux. All Rights Reserved.</div></div></div></footer></div>
<script src="/styles.fe20d831.js"></script>
<script src="/runtime~main.473d0e41.js"></script>
<script src="/main.9f9a5e49.js"></script>
<script src="/1.1ec7fe73.js"></script>
<script src="/2.a6c9b2c0.js"></script>
<script src="/77.8558e820.js"></script>
<script src="/86.16d12372.js"></script>
<script src="/20ac7829.e6b41037.js"></script>
<script src="/86b08b8d.1f5530f7.js"></script>
</body>
</html>